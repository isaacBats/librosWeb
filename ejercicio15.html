<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <title>Ejercicio 15 - Informaci칩n sobre eventos</title>
     
    <style type="text/css">
    body {font-family: arial, helvetica;}
    #info {width:160px; border:thin solid silver; padding:.5em; position:fixed;}
    #info h1 {margin: 0;}
    </style>
     
    <script type="text/javascript">
      function informacion(elEvento) {
        var evento = elEvento || window.event;
        switch(evento.type) {
          case 'mousemove':
            document.getElementById('info').style.backgroundColor = '#FFFFFF';
            var ie = navigator.userAgent.toLowerCase().indexOf('msie')!=-1;
            var coordenadaXrelativa, coordenadaYrelativa, coordenadaXabsoluta, coordenadaYabsoluta;
            if(ie) {
              if(document.documentElement && document.documentElement.scrollTop){ 
                coordenadaXabsoluta = evento.clientX + document.documentElement.scrollLeft;
                coordenadaYabsoluta = evento.clientY + document.documentElement.scrollTop;
              }
              else { 
                coordenadaXabsoluta = evento.clientX + document.body.scrollLeft;
                coordenadaYabsoluta = evento.clientY + document.body.scrollTop;
              }
            }
            else {
              coordenadaXabsoluta = evento.pageX;
              coordenadaYabsoluta = evento.pageY;
            }
            coordenadaXrelativa = evento.clientX;
            coordenadaYrelativa = evento.clientY;
            muestraInformacion(['Rat칩n', 'Navegador ['+coordenadaXrelativa+', '+coordenadaYrelativa+']', 'Pagina ['+coordenadaXabsoluta+', '+coordenadaYabsoluta+']']);
            break;
          case 'keypress':
            document.getElementById('info').style.backgroundColor = '#CCE6FF';
            var caracter = evento.charCode || evento.keyCode;
            var letra = String.fromCharCode(caracter);
            var codigo = letra.charCodeAt(0);
            muestraInformacion(['Teclado', 'Car치cter ['+letra+']', 'C칩digo ['+codigo+']']);
            break;
          case 'click':
            document.getElementById('info').style.backgroundColor = '#FFFFCC';
            break;
        }
      }
       
      function muestraInformacion(mensaje) {
        document.getElementById("info").innerHTML = '<h1>'+mensaje[0]+'</h1>';
        for(var i=1; i<mensaje.length; i++) {
          document.getElementById("info").innerHTML += '<p>'+mensaje[i]+'</p>';
        }
      }
       
      document.onmousemove = informacion;
      document.onkeypress = informacion;
      document.onclick = informacion; 
    </script>
  </head>
  <body>
   
    <div id="info"></div>
     
    <br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>
    <br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>
    <br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>
     
  </body>
</html>